{% extends 'core/base.html' %}

{% block title %}Dashboard - Sistema de Gestión{% endblock %}

{% block content %}
<div class="content-header">
    <h1 class="content-title">📊 Dashboard</h1>
    <div class="breadcrumb">
        <span class="breadcrumb-item">Inicio</span>
    </div>
</div>

<!-- Tarjetas de Estadísticas -->
<div class="grid grid-4">
    <div class="card card-stat">
        <div class="card-stat-icon">👥</div>
        <div class="card-stat-value">{{ total_socios }}</div>
        <div class="card-stat-label">Socios Registrados</div>
        <a href="{% url 'core:socios_listar' %}" style="margin-top: 15px; display: inline-block;">
            Ver todos →
        </a>
    </div>
    
    <div class="card card-stat">
        <div class="card-stat-icon">👤</div>
        <div class="card-stat-value">{{ total_usuarios }}</div>
        <div class="card-stat-label">Usuarios Activos</div>
        <a href="{% url 'core:usuarios_listar' %}" style="margin-top: 15px; display: inline-block;">
            Ver todos →
        </a>
    </div>
    
    <div class="card card-stat">
        <div class="card-stat-icon">📂</div>
        <div class="card-stat-value">{{ total_expedientes }}</div>
        <div class="card-stat-label">Expedientes</div>
        <a href="{% url 'core:expedientes_listar' %}" style="margin-top: 15px; display: inline-block;">
            Ver todos →
        </a>
    </div>
    
    <div class="card card-stat">
        <div class="card-stat-icon">🔐</div>
        <div class="card-stat-value">{{ total_roles }}</div>
        <div class="card-stat-label">Roles Activos</div>
        <a href="{% url 'core:roles_listar' %}" style="margin-top: 15px; display: inline-block;">
            Ver todos →
        </a>
    </div>
</div>

<!-- Información del Usuario -->
<div class="grid grid-2" style="margin-top: 30px;">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">👋 Bienvenido, {{ user.get_full_name }}</h2>
        </div>
        <div class="card-body">
            <div style="margin-bottom: 15px;">
                <strong style="color: var(--color-text-dim);">Usuario:</strong>
                <p style="margin: 5px 0;">{{ user.usuario }}</p>
            </div>
            
            
            
            {% if user.ultimo_acceso %}
            <div style="margin-bottom: 15px;">
                <strong style="color: var(--color-text-dim);">Último Acceso:</strong>
                <p style="margin: 5px 0;">{{ user.ultimo_acceso|date:"d/m/Y H:i" }}</p>
            </div>
            {% endif %}
            
            
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">🚀 Accesos Rápidos</h2>
        </div>
        <div class="card-body">
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <a href="{% url 'core:socios_crear' %}" class="btn btn-block">
                    <span>➕</span> Nuevo Socio
                </a>
                <a href="{% url 'core:usuarios_crear' %}" class="btn btn-block">
                    <span>➕</span> Nuevo Usuario
                </a>
                <a href="{% url 'core:expedientes_crear' %}" class="btn btn-block">
                    <span>➕</span> Nuevo Expediente
                </a>
                <a href="{% url 'core:roles_crear' %}" class="btn btn-block">
                    <span>➕</span> Nuevo Rol
                </a>
                <a href="{% url 'core:estados_crear' %}" class="btn btn-block">
                    <span>➕</span> Nuevo Estado
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}